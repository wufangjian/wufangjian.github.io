---
layout: post
title:  "HTTP 中的 GZIP [http]"
date:   2016-03-17 12:00:00 +0800
categories: [http]
---
> Gzip, 是我们在HTTP请求头(`accept-encoding`: gzip)、响应头(`content-encoding`:gzip)中经常看到的编码技术，理解 Gzip 对于我们做网络性能优化有重要意义

目录

---

[Gzip]()

[]()

[]()

---



# 一、HTTP 中的 Gzip 

**定义：** Gzip是若干种文件压缩程序的简称，通常指GNU计划的实现，此处的gzip代表GNU zip。也经常用来表示gzip这种文件格式。软件的作者是Jean-loup Gailly和Mark Adler。在1992年10月31日第一次公开发布，版本号0.1

http 协议上的 gzip 编码是一种用来改进 web 应用程序性能的技术。web 客户端和服务器端必须同时支持 gzip。目前主流浏览器 (chrome、ie、safari) 和服务器(nginx、apache、IIS) 都支持 gzip 编码

**压缩比率：** gzip 的压缩比例在3到10倍左右，大大节省服务器的网络带宽

**压缩文件类型：** 并不是对所有文件都进行压缩，通常只是压缩静态文件



**工作原理：**

![](/static/img/2017/gzip/gzip01.png)

- 客户端请求服务器，在 request headers 中设置属性 accept-encoding: gzip，表明浏览器支持 gzip

- 服务器接收到请求后，根据请求头判断客户端是否支持 gzip，支持返回压缩过的内容并在 response headers 返回包含 content-encoding: gzip，不支持择返回未经压缩的内容

- 客户端接收到服务器的响应后判断内容是否被压缩，如果被压缩则解压后显示


**实例：**

以头条主站为例

- 请求/响应

![](/static/img/2017/gzip/http01.png)

- 压缩率测试

![](/static/img/2017/gzip/test01.png)












